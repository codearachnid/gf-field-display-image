jQuery(document).bind("gform_load_field_settings",function(e,i,a){image_id=i.display_image_id,image_size=i.display_image_size,""==image_size?jQuery("#display_image_size").hide():jQuery("#display_image_size").val(image_size).show(),""!=image_id&&image_id>0&&(jQuery(".gf-display-image-upload").hide(),jQuery(".gf-display-image-remove").show(),jQuery("#field_"+image_id+" .ginput_container_display_image").removeClass("has-image").addClass("has-placeholder"))}),jQuery(document).ready(function(e){e(".gf-display-image-size").change(function(i){const a=e("#sidebar_field_label").data("fieldid"),t=e("#input_"+a).data("imgid"),s=e(this).val();wp.media.attachment(t).fetch().then(function(e){jQuery("#input_"+a).attr("src",wp.media.attachment(t).attributes.sizes[s].url).show()}),SetFieldProperty("display_image_size",s),e("#input_"+a).data("imgsize",s)}),e(".gf-display-image-upload").click(function(i){i.preventDefault();e(this);const a=e("#sidebar_field_label").data("fieldid"),t=e("#input_"+a).data("imgid");image_size=e("#input_"+a).data("imgsize");const s=wp.media({title:"Select image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",function(){const i=s.state().get("selection").first().toJSON();SetFieldProperty("display_image_id",i.id),e("#input_"+a).data("imgid",i.id),"undefined"!=image_size&&""!=image_size||(image_size="full",SetFieldProperty("display_image_size",image_size),jQuery(".gf-display-image-size").val(image_size)),jQuery("#input_"+a).attr("src",i.sizes[image_size].url).show(),jQuery("#field_"+a+" .ginput_container_display_image").removeClass("has-placeholder").addClass("has-image"),jQuery(".gf-display-image-upload").hide(),jQuery(".gf-display-image-remove").show(),jQuery(".gf-display-image-size").show()});s.on("open",function(){if(t){const e=s.state().get("selection");attachment=wp.media.attachment(t),attachment.fetch(),e.add(attachment?[attachment]:[])}}),s.open()}),e(".gf-display-image-remove").click(function(i){i.preventDefault();e(this);const a=e("#sidebar_field_label").data("fieldid");SetFieldProperty("display_image_id",""),jQuery("#input_"+a).removeAttr("src").data("imgid","").data("imgsize","").hide(),jQuery(".gf-display-image-upload").show(),jQuery(".gf-display-image-remove").hide(),jQuery("#field_"+a+" .ginput_container_display_image").removeClass("has-image").addClass("has-placeholder"),jQuery(".gf-display-image-size").hide()})});